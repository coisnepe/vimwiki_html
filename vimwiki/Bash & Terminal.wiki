== Bash & Terminal commands ==

- [[#xargs|xargs]]
- [[#wc|wc - Word Count]]
- [[#grep|grep]]
- [[#find|find]]
- [[#du/df|du/df - Directory Size]]
- [[#shred|Shred]]
- [[#Snippets|Snippets]]

Chain commands
{{{
$ ls -al | grep "file_name"
}}}

<br/>

=== xargs ===
Use the output of one command as arguments for the next
{{{
# Find ruby files in app/ that contain the string user.
#   In the files matched, look for the string "transaction"
$ grep "users" -lr app/**/*.rb | xargs grep "transaction"
}}}

<br/>

=== wc ===
Count words, lines, characters, etc... in a file
{{{
$ wc -[w | l | c] your_file.csv
}}}

<br/>

=== grep ===
Search one file
{{{
$ grep "redmine" /etc/hosts
}}}

Flags
{{{
  -r      # search recursively
  -n      # display the line number
  -l      # only output filenames of matched files
  -B 10   # display 10 lines before the line containing the match
  -A 10   # display 10 lines after the line containing the match
  -C 10   # display 10 lines before and after the line containing the match
  
  -i      # case insensitive
  -h      # Omit filenames in the results
  -v      # Invert, i.e. display lines that do not match
}}}

<br />

=== find ===
{{{
find
  -name "*.js"  # Find js files
  -type f       # Files
  -not
    -path       # Exclude path

# Find all .js files in the app directory minus [[app/assets/.]]
$ find app/. -name "*.js" -type f -not -path "*/assets/*"
}}}

<br/>

=== du/df ===
du : Display sizes of directories
{{{
du
  -s # Display an entry for each file/directory
  -h # Display the sizes in a "human readable" way
  directory_name # Specific directory
  * # Every directory in pwd

# 1: Get directories and files by size
# 2: Reverse sort (-r reverse / -h readable)
# 3: Only display the top 10 results

$ du -sh * | sort -rh | head -10
}}}

df : Display space usage at the disk level
{{{
df
  -h # Display the sizes in a "human readable" format

$ df -h
}}}

<br/>

=== shred ===
Safely delete files : rm on steroids! It overwrites the file content
{{{
shred
  -f   # Force change permissions to allow writing
  -n   # Number of iterations
  -v   # Verbose (show progress
  -u   # Actually remove file after progress
  -z   # On the last round, overwrite the file with zeros

$ shred -uvzn 3 /Documents/file_to_nuke.txt
}}}

<br />
=== Snippets ===
{{{
# == Count the number of lines for  files in a given directory and display the sorted result ==
#
# 1: Find ruby files in the current directory
# 2: Count the number of lines
# 3: Reverse sort them
# 4: Omit the "total" line
# 5: Only display the top 10 results
$ find . -name "*.rb" -type f | xargs wc -l | sort -rn | grep -v ' total$' | head -10

# 1: Find all files in a directory
# 2: Nuke!
$ find directory_path/ -depth -type f -exec shred -uvzn 2 {} \;

# == Copy a command output to the clipboard
$ sudo apt-get install xclip
$ cat my_file.txt | xclip -selection clipboard
}}}
